(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,a){},35:function(e,t,a){},40:function(e,t,a){e.exports=a(69)},61:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(36),s=a.n(i),l=a(5),o=a(1),c=a(2),u=a(4),m=a(3),p=a(15),d=a.n(p),h=d.a.create({baseURL:"https://quizztiti.herokuapp.com",withCredentials:!0});function g(e){if(e.response)throw console.log(e.response&&e.response.data),e;throw e}var z=function(e){return h.post("/api/auth/signup",e).then((function(e){return e.data})).catch(g)},f=function(e){return h.post("/api/auth/signin",e).then((function(e){return e.data})).catch(g)},E=function(){return h.get("/api/auth/isLoggedIn").then((function(e){return e.data})).catch(g)},b=function(){return h.get("/api/auth/logout").then((function(e){return e.data})).catch(g)},v=r.a.createContext(),y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={user:null,isLoggedIn:!1,isLoading:!0},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;E().then((function(t){e.setState({user:t,isLoggedIn:!0,isLoading:!1})})).catch((function(t){console.log(t),e.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var e={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return r.a.createElement(v.Provider,{value:e},this.props.children)}}]),a}(n.Component),w=a(7),q=function(e){return function(t){return r.a.createElement(v.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{context:a}))}))}},N=(a(61),q((function(e){var t=e.context;return r.a.createElement("nav",{className:"NavMain NavMobile"},r.a.createElement(l.c,{exact:!0,to:"/"},r.a.createElement("img",{src:"/media/icons8-ann\xe9e-du-singe-50.png",className:"logo",alt:"logo"})),!t.isLoggedIn&&r.a.createElement("ul",{className:"nav-list"},r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(l.c,{to:"/signin"},"LOG IN")),r.a.createElement("li",null,r.a.createElement(l.c,{to:"/signup"},"CREATE ACCOUNT")))),t.isLoggedIn&&r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"nav-list"},r.a.createElement("li",null,r.a.createElement(l.c,{to:"/profile"},t.user.name)),r.a.createElement("li",null,r.a.createElement(l.c,{to:"/dashboard"},"DASHBOARD")),r.a.createElement("li",null,r.a.createElement("p",{onClick:function(){b().then((function(){t.removeUser()})).catch((function(e){console.log(e)}))}},"LOGOUT"))),r.a.createElement("img",{src:t.user.image,className:"avatar",alt:"avatar"})))}))),x=d.a.create({baseURL:"https://quizztiti.herokuapp.com",withCredentials:!0});function k(e){if(e.response.data)throw console.log(e.response&&e.response.data),e;throw e}var C=function(){return x.get("/quizz").then((function(e){return e.data})).catch(k)},S=function(e){return x.get("/quizz/".concat(e)).then((function(e){return e.data})).catch(k)},O=function(e,t){return x.patch("/quizz/".concat(e),t).then((function(e){return e.data})).catch(k)},j=function(e){return x.post("/quizz/new",e).then((function(e){return e.data})).catch(k)},I=function(e){return x.delete("/quizz/".concat(e)).then((function(e){return e.data})).catch(k)},Q=function(e){return console.log(e),x.get("/question/".concat(e)).then((function(e){return e.data})).catch(k)},_=function(e,t){return x.patch("/question/".concat(e),t).then((function(e){return e.data})).catch(k)},F=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={quizz:null,currentIndex:1},e.previous=function(t){1===e.state.currentIndex?e.setState({currentIndex:e.state.quizz.length-2}):e.setState({currentIndex:e.state.currentIndex-1})},e.next=function(t){e.state.currentIndex===e.state.quizz.length-2?e.setState({currentIndex:1}):e.setState({currentIndex:e.state.currentIndex+1})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;C().then((function(t){e.setState({quizz:t.filter((function(e){return"OpenQuizzDB - Fournisseur de contenu libre (https://www.openquizzdb.org)"===e.supplier}))})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.quizz?r.a.createElement("div",{className:"row center"},r.a.createElement("img",{onClick:this.previous,className:"bouton-fl\xe8che",alt:"previous",src:"../../../media/icons8-double-gauche-100.png"}),r.a.createElement("section",{className:"quizz-home row"},r.a.createElement(l.b,{to:"/quizz/".concat(this.state.quizz[this.state.currentIndex-1]._id)},r.a.createElement("div",{className:"quizz-sticker row center",style:{backgroundImage:"url(".concat(this.state.quizz[this.state.currentIndex-1].image,")")}},r.a.createElement("h3",{className:"row "},this.state.quizz[this.state.currentIndex-1].title))),r.a.createElement(l.b,{to:"/quizz/".concat(this.state.quizz[this.state.currentIndex]._id)},r.a.createElement("div",{className:"quizz-sticker row center",style:{backgroundImage:"url(".concat(this.state.quizz[this.state.currentIndex].image,")")}},r.a.createElement("h3",{className:"row "},this.state.quizz[this.state.currentIndex].title))),r.a.createElement(l.b,{to:"/quizz/".concat(this.state.quizz[this.state.currentIndex+1]._id)},r.a.createElement("div",{className:"quizz-sticker row center",style:{backgroundImage:"url(".concat(this.state.quizz[this.state.currentIndex+1].image,")")}},r.a.createElement("h3",{className:"row "},this.state.quizz[this.state.currentIndex+1].title)))),r.a.createElement("img",{onClick:this.next,className:"bouton-fl\xe8che",alt:"previous",src:"../../../media/icons8-double-droite-100.png"})):r.a.createElement("div",null,"Loading...")}}]),a}(n.Component),T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={quizz:null,currentIndex:0},e.previous=function(t){0===e.state.currentIndex?e.setState({currentIndex:e.state.quizz.length-1}):e.setState({currentIndex:e.state.currentIndex-1})},e.next=function(t){e.state.currentIndex===e.state.quizz.length-1?e.setState({currentIndex:0}):e.setState({currentIndex:e.state.currentIndex+1})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;C().then((function(t){e.setState({quizz:t.filter((function(e){return"Quizztiti"===e.supplier}))})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.quizz?r.a.createElement("div",{className:"row center"},r.a.createElement("img",{onClick:this.previous,className:"bouton-fleche-mobile",alt:"previous",src:"../../../media/icons8-double-gauche-100.png"}),r.a.createElement("section",{className:"quizz-home row"},r.a.createElement(l.b,{to:"/quizz/".concat(this.state.quizz[this.state.currentIndex]._id)},r.a.createElement("div",{className:"quizz-sticker-mobile row center",style:{backgroundImage:"url(".concat(this.state.quizz[this.state.currentIndex].image,")")}},r.a.createElement("h3",{className:"row "},this.state.quizz[this.state.currentIndex].title)))),r.a.createElement("img",{onClick:this.next,className:"bouton-fleche-mobile",alt:"previous",src:"../../../media/icons8-double-droite-100.png"})):r.a.createElement("div",null,"Loading...")}}]),a}(n.Component);var A=function(e){return r.a.createElement(l.b,{to:"/quizz/categories/".concat(e.theme)},r.a.createElement("div",{className:"row center"},r.a.createElement("div",{className:"div-img"},r.a.createElement("img",{alt:"img",className:"category-img",src:e.image})),e.theme))};var M=function(){return r.a.createElement("div",{className:"center row"},r.a.createElement("section",{className:"footer row"},r.a.createElement("div",{className:"column"},r.a.createElement("h4",{style:{fontFamily:"'Rubik', sans-serif"}},"Quizztiti"),r.a.createElement("p",null,"About"),r.a.createElement("p",null,"Join us")),r.a.createElement("div",null,r.a.createElement("h4",{style:{fontFamily:"'Rubik', sans-serif"}}," Cat\xe9gories"),r.a.createElement("section",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement("p",null,"Health"),r.a.createElement("p",null,"Celebrities"),r.a.createElement("p",null,"Miscellaneous")),r.a.createElement("div",{style:{marginLeft:"50px"},className:"column"},r.a.createElement("p",null,"Nature"),r.a.createElement("p",null,"General"),r.a.createElement("p",null,"Beauty")))),r.a.createElement("div",null)))},D=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={categories:[{theme:"Nature",image:"https://img.icons8.com/color/48/000000/sakura.png"},{theme:"General",image:"https://img.icons8.com/color/48/000000/dali.png"},{theme:"Health",image:"https://img.icons8.com/color/48/000000/the-birth-of-venus.png"},{theme:"Celebrity",image:"https://img.icons8.com/color/48/000000/tango.png"},{theme:"Society",image:"https://img.icons8.com/color/48/000000/us-capitol.png"},{theme:"Miscellaneous",image:"https://img.icons8.com/color/48/000000/illuminati-symbol.png"}]},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"column center"},r.a.createElement("div",{className:"column center",style:{width:"80%"}},r.a.createElement("section",{className:"row center",style:{width:"100%"}},r.a.createElement("div",{className:"row welcome-div",style:{height:"50px",backgroundColor:"var(--grey)"}},r.a.createElement("img",{className:"logo-quizztiti",src:"../../media/imageonline-co-transparentimage.png",alt:"logo"}),"Discover all our quizzes and categories !"," ",r.a.createElement("a",{href:"/quizz"},r.a.createElement("button",{className:"btn",style:{width:"170px"}},"Discover !")))),r.a.createElement("div",{style:{width:"92%"}},r.a.createElement("h3",{className:"title"},"All quizz")),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(F,null)),r.a.createElement("br",null),r.a.createElement("a",{href:"/quizz"},r.a.createElement("button",{className:"btn",style:{marginBottom:"40px"}},"See more")),r.a.createElement("div",{style:{width:"92%"}},r.a.createElement("h3",{className:"title"},"Categories"),r.a.createElement("br",null),r.a.createElement("section",{className:"row category-wrap"},this.state.categories.map((function(e){return r.a.createElement("div",{className:"category-div row flex-start"},r.a.createElement(A,{theme:e.theme,image:e.image}))}))),r.a.createElement("div",{style:{width:"95%",marginTop:"50px"}},r.a.createElement("h3",{className:"title"},"Community quizz")),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(T,null)))),r.a.createElement("div",{style:{width:"90%"}},r.a.createElement(M,null)))}}]),a}(n.Component),L=a(8),U=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:"checkbox"===t.target.type?t.target.checked:t.target.value;e.setState(Object(L.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault(),f(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"signup-div center column"},r.a.createElement("h2",null,"Welcome back !"),r.a.createElement("form",{className:"center column",style:{marginTop:"30px"},onChange:this.handleChange,onSubmit:this.handleSubmit},r.a.createElement("label",{className:"sign-label",htmlFor:"email"},"Email"),r.a.createElement("input",{className:"sign-input",type:"email",id:"email",name:"email"}),r.a.createElement("label",{className:"sign-label",htmlFor:"password"},"Password"),r.a.createElement("input",{className:"sign-input",type:"password",id:"password",name:"password"}),r.a.createElement("button",{className:"btn",style:{marginTop:"30px"}},"Submit")))}}]),a}(n.Component);U.contextType=v;var P=Object(w.g)(U),R=function(e){return r.a.createElement(P,null)},V=d.a.create({baseURL:"https://quizztiti.herokuapp.com/users",withCredentials:!0}),B=function(e){return V.get("/",{params:e})},G=function(){return V.get("/me")},Y=function(e){return console.log("in apiUser",e),V.patch("/delete-team",e)},H=function(e){return V.patch("/me",e)},Z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={name:"",email:"",password:"",image:""},e.handleChange=function(t){var a="file"===t.target.type?t.target.files[0]:(t.target.type,t.target.value),n=t.target.name;e.setState(Object(L.a)({},n,a),(function(){return console.log(e.state)}))},e.handleSubmit=function(t){var a=e.props.match.params.mode;t.preventDefault(),"signup"===a?z(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/")})).catch((function(e){console.log(e)})):H(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/dashboard")})).catch((function(e){console.log(e)}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.mode;this.props.match.params.id;"profile/edit"===t&&G().then((function(t){e.setState({name:t.data.name,email:t.data.email,password:t.data.password,image:t.data.image},(function(){return console.log(e.state)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.props.match.params.mode;return r.a.createElement("div",{className:"signup-div center column"},r.a.createElement("h2",null,"profile/edit"===e?"Edit Profile":"Join us !"),r.a.createElement("br",null),r.a.createElement("form",{className:"column center",onChange:this.handleChange,onSubmit:this.handleSubmit},r.a.createElement("label",{className:"sign-label",htmlFor:"name"},"User Name"),r.a.createElement("input",{className:"sign-input",type:"text",id:"name",name:"name",defaultValue:"profile/edit"===e?this.state.name:"Name"}),r.a.createElement("label",{className:"sign-label",htmlFor:"email"},"Email"),r.a.createElement("input",{className:"sign-input",type:"email",id:"email",name:"email",defaultValue:"profile/edit"===e?this.state.email:"example@email.com"}),r.a.createElement("label",{className:"sign-label",htmlFor:"password"},"Password"),r.a.createElement("input",{className:"sign-input",type:"password",id:"password",name:"password",defaultValue:"profile/edit"===e?this.state.password:"Password"}),r.a.createElement("p",{className:"sign-label",style:{marginTop:"30px"}}," ","Choose your avatar :"),r.a.createElement("div",{className:"center column avatar-div"},r.a.createElement("div",{className:"row center"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"obama",class:"obama"},r.a.createElement("input",{type:"radio",id:"obama",name:"image",value:"https://img.icons8.com/color/48/000000/barack-obama.png"}),r.a.createElement("img",{src:"https://img.icons8.com/color/48/000000/barack-obama.png",alt:"obama"}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"frida",class:"frida"},r.a.createElement("input",{type:"radio",id:"frida",name:"image",value:"https://img.icons8.com/color/48/000000/frida-kahlo.png"}),r.a.createElement("img",{src:"https://img.icons8.com/color/48/000000/frida-kahlo.png",alt:"frida"}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"einstein",class:"einstein"},r.a.createElement("input",{type:"radio",id:"einstein",name:"image",value:"https://img.icons8.com/color/48/000000/einstein.png"}),r.a.createElement("img",{src:"https://img.icons8.com/color/48/000000/einstein.png",alt:"einstein"})))),r.a.createElement("div",{className:"row center"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"beyonce",class:"beyonce"},r.a.createElement("input",{type:"radio",id:"beyonce",name:"image",value:"https://img.icons8.com/color/48/000000/beyonce.png"}),r.a.createElement("img",{src:"https://img.icons8.com/color/48/000000/beyonce.png",alt:"beyonce"}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"hermione",class:"hermione"},r.a.createElement("input",{type:"radio",id:"hermione",name:"image",value:"https://img.icons8.com/color/48/000000/hermione-granger-doll.png"}),r.a.createElement("img",{src:"https://img.icons8.com/color/48/000000/hermione-granger-doll.png",alt:"hermione"}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"karl",class:"karl"},r.a.createElement("input",{type:"radio",id:"karl",name:"image",value:"https://img.icons8.com/color/48/000000/karl-lagerfeld.png"}),r.a.createElement("img",{src:"https://img.icons8.com/color/48/000000/karl-lagerfeld.png",alt:"karl"}))))),r.a.createElement("button",{className:"btn"},"SUBMIT")))}}]),a}(n.Component);Z.contextType=v;var W=Object(w.g)(Z),J=function(e){return r.a.createElement(W,null)},K=a(39),$=q((function(e){var t=e.component,a=e.context,n=Object(K.a)(e,["component","context"]);return a.isLoading?null:a.isLoggedIn?r.a.createElement(w.b,Object.assign({},n,{render:function(e){return r.a.createElement(t,e)}})):r.a.createElement(w.a,{to:"/signin"})})),X=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;G().then((function(t){e.setState({name:t.data.name,email:t.data.email,password:t.data.password,image:t.data.image})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"div-profile column center"},r.a.createElement("h2",{style:{marginTop:"20px",marginBottom:"20px"}},"Your profile"),r.a.createElement("div",{style:{marginTop:"20px",width:"20em",borderRadius:"10px",boxShadow:"1px 3px 17px 0px rgba(0,0,0,0.30)",padding:"20px"},className:"flex-start"},r.a.createElement("h3",null,"Name : ",r.a.createElement("span",{style:{fontWeight:"400",fontSize:"17px"}},this.state.name)),r.a.createElement("h3",null,"Email : ",r.a.createElement("span",{style:{fontWeight:"400",fontSize:"17px"}},this.state.email)),r.a.createElement("h3",null,"Password : ",r.a.createElement("span",{style:{fontWeight:"400",fontSize:"17px"}},"********")),r.a.createElement("div",{className:"row "},r.a.createElement("h3",{style:{marginTop:"10px",marginRight:"10px"}},"Avatar :")," ",r.a.createElement("img",{src:this.state.image,alt:"avatar"})),r.a.createElement("a",{href:"/profile/edit"},r.a.createElement("button",{className:"btn",style:{marginLeft:"35%",marginTop:"25px"}},"EDIT "))))}}]),a}(n.Component),ee=function(e){return r.a.createElement("div",{className:"quizz-sticker row center",style:{backgroundImage:"url(".concat(e.quiz.image,")")}},r.a.createElement("h3",{className:"row"},e.quiz.title))},te=function(e){return console.log(e),r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:"search-input",type:"text",onChange:e.search,placeholder:"Search..."}))},ae=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={quizz:[],filteredQuizz:[]},e.handleFilter=function(){},e.handleSearch=function(t){e.setState({searchValue:t.target.value})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;C().then((function(t){e.setState({quizz:t})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;if(null===this.state.quizz)return r.a.createElement("div",null,"Loading...");var t=this.state.quizz.filter((function(t){return e.state.searchValue?t.title.toLowerCase().includes(e.state.searchValue)||t.thema.toLowerCase().includes(e.state.searchValue):t}));return console.log(t),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"search-container"},r.a.createElement(te,{search:this.handleSearch})),r.a.createElement("div",{className:"all-quizz row center global-view"},t.map((function(e){return r.a.createElement(l.b,{to:"/quizz/".concat(e._id)},r.a.createElement(ee,{key:e._id,quiz:e}))}))))}}]),a}(n.Component),ne=a(10),re=d.a.create({baseURL:"https://quizztiti.herokuapp.com",withCredentials:!0});function ie(e){if(e.response.data)throw console.log(e.response&&e.response.data),e;throw e}var se=function(e){return re.post("/teams",e).then((function(e){return e.data})).catch((function(e){return ie(e)}))},le=function(e){return re.get("teams/".concat(e)).then((function(e){return e.data})).catch((function(e){return ie(e)}))},oe=function(e,t){return re.patch("teams/".concat(e),t).catch((function(e){return ie(e)}))},ce=function(e,t){return re.patch("teams/".concat(e,"/quizzes"),t).then((function(e){return e.data})).catch((function(e){return ie(e)}))},ue=function(e){return re.delete("teams/".concat(e)).then((function(e){return console.log("deletion in frontend OK - ".concat(e))})).catch((function(e){return ie(e)}))},me=(a(34),function(e){return console.log(e),e.members?e.members===[]?r.a.createElement("div",null," ",r.a.createElement("h3",null,"Members ")," Add members"):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"team_members"},r.a.createElement("div",{className:"row space_between margin_bottom"},r.a.createElement("div",null,r.a.createElement("h3",null,"Current members (",e.members.length,")")),r.a.createElement("div",{className:"column"})),r.a.createElement("ul",null,e.members&&e.members.map((function(t){return r.a.createElement("div",{className:"row",key:t._id},e.owner._id!==t._id?r.a.createElement("button",{className:"btn delete",onClick:function(){return e.updateMembers(t._id)}}," x"):r.a.createElement("button",{className:"btn owner"},"  "),r.a.createElement("img",{src:t.image,alt:t.name}),t.name,"  ",e.owner._id===t._id?"(owner)":"")}))))):r.a.createElement("div",null," ",r.a.createElement("h3",null,"Members "),"Loading...")}),pe=function(e){return console.log(e),e.quizzes?e.quizzes===[]?r.a.createElement("div",null," ",r.a.createElement("h3",null,"Quizzes ")," Add your quizzes"):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"team_quizzes"},r.a.createElement("div",{className:"row space_between margin_bottom"},r.a.createElement("div",null,r.a.createElement("h3",null,"Current quizzes (",e.quizzes.length,")")),r.a.createElement("div",{className:"column"})),r.a.createElement("ul",null,e.quizzes&&e.quizzes.map((function(t){return r.a.createElement("div",{className:"row",key:t._id},r.a.createElement("button",{className:"btn delete",onClick:function(){return e.updateQuizzes(t._id)}}," x"),"[",t.thema,"] -  ",t.title)}))))):r.a.createElement("div",null," ",r.a.createElement("h3",null,"Quizzes "),"Loading...")},de=(a(35),a(19)),he=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={owner:null,name:"",image:"",tmpImage:"/media/teams/flame-793.png",members:[],teamQuizzes:[],optionsMembers:[],userQuizzes:[],inputSearchMembers:null},n.removeImages=function(e){console.log("in Remove Images"),n.setState({image:null,tmpImage:null},(function(){return console.log("removed images")}))},n.handleClick=function(){n.fileInput.current.click()},n.handleChange=function(e){var t=e.target.value,a=e.target.name;n.setState(Object(L.a)({},a,t),console.log(n.state))},n.handleImage=function(e){n.setState({image:e.target.files[0],tmpImage:URL.createObjectURL(e.target.files[0])})},n.handleMembers=function(e){var t=Object(ne.a)(n.state.members),a=e.target.value;if(e.target.checked){var r=n.state.optionsMembers.find((function(e){return e._id===a}));t.push(r)}else!e.target.checked&&t.includes(e.target.value)&&(t=t.filter((function(t){return t!==e.target.value})));n.setState({members:t},(function(){return console.log("team members:",n.state.members)}))},n.handleQuizzes=function(e){var t=Object(ne.a)(n.state.teamQuizzes),a=e.target.value;if(e.target.checked){var r=n.state.userQuizzes.find((function(e){return e._id===a}));t.push(r)}else!e.target.checked&&t.includes(e.target.value)&&(t=t.filter((function(t){return t!==e.target.value})));n.setState({teamQuizzes:t},(function(){return console.log("team quizzes:",n.state.teamQuizzes)}))},n.updateMembers=function(e){if("edit"===n.props.match.params.mode){var t={userId:e,teamId:n.state.teamId};Y(t).then((function(t){console.log("team deleted from user"),n.setState({members:n.state.members.filter((function(t){return t._id!==e}))},(function(){return console.log("new state members!")}))})).catch((function(e){return console.error(e)}))}else n.setState({members:n.state.members.filter((function(t){return t._id!==e}))},(function(){return console.log("new state members!")}))},n.updateQuizz=function(e){n.props.match.params.mode;n.setState({teamQuizzes:n.state.teamQuizzes.filter((function(t){return t._id!==e}))},(function(){return console.log("new state members!")}))},n.checkOptionQuizzes=function(e){var t;return t=!!Object(ne.a)(n.state.teamQuizzes).find((function(t){return t._id===e._id})),console.log("option is in team quizzes?",t),!!t},n.checkOptionMember=function(e){return!!!!Object(ne.a)(n.state.members).find((function(t){return t._id===e._id}))},n.handleSubmit=function(e){var t=n.props.match.params.mode;e.preventDefault();var a=function(e){var t=new FormData;return function e(t,a,n){if(!a||"object"!==typeof a||a instanceof Date||a instanceof File){var r=null==a?"":a;t.append(n,r)}else Object.keys(a).forEach((function(r){e(t,a[r],n?"".concat(n,"[").concat(r,"]"):r)}))}(t,e),t}({name:n.state.name,image:n.state.image,description:n.state.description,members:n.state.members,teamQuizz:n.state.teamQuizzes});"create"===t?se(a).then((function(e){console.log(e),n.setState({teamId:e._id}),n.state.submitted&&n.props.history.push("/teams/".concat(n.state.teamId))})).catch((function(e){console.log(e),n.setState({submitted:!1})})):oe(n.state.teamId,a).then((function(e){console.log(e),n.state.submitted&&n.props.history.push("/teams/".concat(n.state.teamId))})).catch((function(e){console.log(e),n.setState({submitted:!1})}))},n.finalSubmit=function(e){n.setState({submitted:!0}),n.handleSubmit(e)},n.handleDelete=function(e){"edit"===n.props.match.params.mode&&ue(n.props.match.params.id).then((function(e){console.log("deletion complete"),n.setState({submitted:!0}),n.state.submitted&&n.props.history.push("/dashboard")})).catch((function(e){console.error("error in deletion",e),n.setState({submitted:!1})}))},n.fileInput=r.a.createRef(),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.mode;B().then((function(t){console.log(t),e.setState({optionsMembers:t.data})})).catch((function(e){console.log(e)})),G().then((function(t){console.log(t),e.setState({owner:t.data,userQuizzes:t.data.quizzCreated})})).catch((function(e){console.log(e)})),"edit"===t&&le(this.props.match.params.id).then((function(t){e.setState({teamId:t._id,owner:t.owner,name:t.name,description:t.description,image:t.image,tmpImage:t.image,members:t.members,teamQuizzes:t.teamQuizz},(function(){return console.log(e.state)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props.match.params.mode;return console.log("context",this.context),null===this.props.context.user?null:(console.log("context user",this.props.context.user),console.log("owner",this.state.owner),this.state.owner?("edit"===t&&this.props.context.user._id!==this.state.owner._id&&this.props.history.push("/dashboard"),r.a.createElement("div",{className:"center column"},"create"===t?r.a.createElement("div",{className:"row space-around"},r.a.createElement("img",{src:this.state.tmpImage?this.state.tmpImage:this.state.image,alt:"your team image",className:"team_image"}),r.a.createElement("h2",{id:"form_mode",className:"column center"},"Create a new team !")):r.a.createElement("div",{id:"form_mode",className:"row space-around"},r.a.createElement("img",{src:this.state.tmpImage?this.state.tmpImage:this.state.image,alt:"your team image",className:"team_image"}),r.a.createElement("h2",null,"Edit team "),r.a.createElement("h2",{className:"red click",onClick:this.handleDelete},"Delete team")),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(de.a,{icon:"images",size:"2x",color:"rgba(243, 236, 236, 0.808)",className:"icon",onClick:this.handleClick}),r.a.createElement("input",{className:"sign-input",type:"file",id:"image",name:"image",onChange:this.handleImage,ref:this.fileInput,style:{display:"none"}})),r.a.createElement("div",{className:"column"},r.a.createElement("input",{className:"sign-input",type:"text",id:"name",name:"name",maxLength:"25",onChange:this.handleChange,defaultValue:"edit"===t?this.state.name:"",placeholder:"edit"===t?this.state.name:"a cool team name"})),r.a.createElement("div",{className:"column"},r.a.createElement("textarea",{className:"sign-input",id:"description",name:"description",maxLength:"125",rows:"3",cols:"20",onChange:this.handleChange,defaultValue:"edit"===t?this.state.description:"",placeholder:"edit"===t?this.state.description:"team description : a gathering of crazy brains"}))),r.a.createElement("div",{className:"row space_evenly "},r.a.createElement(me,{owner:this.state.owner,updateMembers:this.updateMembers,members:this.state.members}),r.a.createElement("div",{className:"column"},r.a.createElement("h3",null,"Add members"),r.a.createElement("input",{className:"sign-input",type:"text",name:"inputSearchMembers",placeholder:"Search members",onChange:this.handleChange}),r.a.createElement("div",{id:"add_members"},this.state.inputSearchMembers&&this.state.optionsMembers.filter((function(t){return t.name.toLowerCase().includes(e.state.inputSearchMembers.toLowerCase())})).map((function(t){return r.a.createElement("label",{className:"sign-label",htmlFor:"".concat(t.name),key:t._id},r.a.createElement("div",{className:"row"},r.a.createElement("input",{type:"checkbox",id:"".concat(t.name),name:"".concat(t.name),value:t._id,onChange:e.handleMembers,disabled:e.checkOptionMember(t)}),r.a.createElement("img",{src:"".concat(t.image),alt:t.name}),"".concat(t.name)))})),(!this.state.inputSearchMembers||""===this.state.inputSearchMembers)&&this.state.optionsMembers.map((function(t){return r.a.createElement("label",{className:"sign-label",htmlFor:"".concat(t.name),key:t._id},r.a.createElement("div",{className:"row"},r.a.createElement("input",{type:"checkbox",id:"".concat(t.name),name:"".concat(t.name),value:t._id,onChange:e.handleMembers,disabled:e.checkOptionMember(t)}),r.a.createElement("img",{src:"".concat(t.image),alt:t.name}),"".concat(t.name)))}))))),r.a.createElement("div",{className:"row space-around "},r.a.createElement(pe,{updateQuizzes:this.updateQuizz,quizzes:this.state.teamQuizzes}),r.a.createElement("div",{className:"column"},r.a.createElement("h3",null,"Add quizzes"),r.a.createElement("input",{className:"sign-input",type:"text",name:"inputSearchQuizz",placeholder:"Search quizz",onChange:this.handleQuizzes}),r.a.createElement("div",{id:"add_quizzes"},this.state.inputSearchQuizz&&this.state.userQuizzes.filter((function(t){return t.title.toLowerCase().includes(e.state.inputSearchQuizz.toLowerCase())||t.thema.toLowerCase().includes(e.state.inputSearchQuizz.toLowerCase())})).map((function(t){return r.a.createElement("label",{className:"sign-label",htmlFor:"".concat(t.title),key:t._id},r.a.createElement("div",{className:"row"},r.a.createElement("input",{type:"checkbox",id:"".concat(t.title),name:"".concat(t.title),value:t._id,onChange:e.handleQuizzes,disabled:e.checkOptionQuizzes(t)}),"[",t.thema,"] ",t.title))})),(!this.state.inputSearchQuizzes||""===this.state.inputSearchQuizzes)&&this.state.userQuizzes.map((function(t){return r.a.createElement("label",{className:"sign-label",htmlFor:"".concat(t.title),key:t._id},r.a.createElement("div",{className:"row"},r.a.createElement("input",{type:"checkbox",id:"".concat(t.title),name:"".concat(t.title),value:t._id,onChange:e.handleQuizzes,disabled:e.checkOptionQuizzes(t)}),"[",t.thema,"] ",t.title))}))))),r.a.createElement("div",{className:"column center"})),r.a.createElement("button",{className:"btn",onClick:this.finalSubmit},"create"===t?"Create":"Edit"))):r.a.createElement("div",null," Please wait ..."))}}]),a}(n.Component);he.contextType=v;var ge=q(he),ze=q((function(e){if(null===e.context.user)return null;console.log(e.context.user);var t=0;return e.context.user.quizzDone&&(t=e.context.user.quizzDone.reduce((function(e,t){return e+t.score}),0)),r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"row space-around"},r.a.createElement("div",{className:"column center",style:{paddingTop:"20px"}},r.a.createElement("img",{src:e.context.user.image,className:"avatar",style:{backgroundColor:"var(--grey)",padding:"15px",margin:"0px"},alt:"r"}),r.a.createElement("h3",{style:{marginTop:"10px"}},e.context.user.name),r.a.createElement("a",{href:"/profile/edit"},r.a.createElement("button",{style:{marginTop:"20px"},className:"btn"},"EDIT"))),r.a.createElement("div",{className:"column center score-box",style:{width:"35%"}},r.a.createElement("h3",null,"SCORE"),r.a.createElement("img",{alt:"r",style:{width:"40px",marginTop:"10px"},src:"https://img.icons8.com/officel/80/000000/gold-medal.png"}),r.a.createElement("h4",{style:{fontSize:"30px",color:"var(--red)"}},t))))})),fe=function(e){return console.log(e),r.a.createElement("div",{className:"sticker-dashboard column center",style:{backgroundImage:"url(".concat(e.quizz.image,")")}},r.a.createElement("h3",{className:"row"},e.quizz.title))},Ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;G().then((function(t){e.setState({name:t.data.name,email:t.data.email,password:t.data.password,image:t.data.image,quizzCreated:t.data.quizzCreated,quizzDone:t.data.quizzDone})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"MY QUIZZ"),r.a.createElement("a",{href:"/quizz/new"},r.a.createElement("button",{style:{marginTop:"10px",width:"10em"},className:"btn"},"CREATE QUIZZ")),r.a.createElement("div",{className:"row wrap",style:{width:"100%"}},this.state.quizzCreated&&this.state.quizzCreated.map((function(e){return r.a.createElement(l.b,{to:"/quizz/edit/".concat(e._id)},r.a.createElement(fe,{key:e._id,quizz:e}))}))))}}]),a}(n.Component),be=function(e){return console.log(e),r.a.createElement("div",{className:"div-team column center"},r.a.createElement("div",{className:"sticker-dashboard column center",style:{backgroundImage:"url(".concat(e.team.image,")"),margin:"20px",padding:"5px"}}),r.a.createElement("h3",{className:"row"},e.team.name))},ve=function(e){return e.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"MY TEAMS"),r.a.createElement("a",{href:"/team/create"},r.a.createElement("button",{style:{marginTop:"10px",width:"10em"},className:"btn"},"CREATE TEAM")),r.a.createElement("div",{className:"row wrap",style:{width:"100%"}},e.user.teams&&e.user.teams.map((function(e){return r.a.createElement(l.b,{to:"/teams/".concat(e._id)},r.a.createElement(be,{key:e._id,team:e}))})))):r.a.createElement("div",null,"Loading..")},ye=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).successRate=function(e){var t=e.length,a=e.reduce((function(e,t){return e+t.score}),0);return Math.round(a/(10*t))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"MY STATS"),r.a.createElement("section",{className:"row center"},r.a.createElement("div",{className:"column center score-box",style:{width:"20%",height:"25vh",margin:"25px"}},r.a.createElement("h3",null,"QUIZZ DONE"),r.a.createElement("img",{alt:"r",style:{width:"40px",marginTop:"10px"},src:"https://img.icons8.com/cotton/64/000000/cupid-target.png"}),r.a.createElement("h4",{style:{fontSize:"30px",color:"var(--red)"}},this.props.user.quizzDone&&this.props.user.quizzDone.length)),r.a.createElement("div",{className:"column center score-box",style:{width:"25%",height:"30vh",margin:"25px",backgroundColor:"var(--red)"}},r.a.createElement("h3",{style:{textAlign:"center",color:"white",fontSize:"30px"}},"SUCCESS"),r.a.createElement("img",{alt:"r",style:{width:"40px",marginTop:"10px"},src:"https://img.icons8.com/color/96/000000/easy.png"}),r.a.createElement("h4",{style:{fontSize:"30px",color:"white"}},this.props.user.quizzDone&&this.successRate(this.props.user.quizzDone),"%")),r.a.createElement("div",{className:"column center score-box",style:{width:"20%",height:"25vh",margin:"25px"}},r.a.createElement("h3",null,"QUIZZ CREATED"),r.a.createElement("img",{alt:"r",style:{width:"40px",marginTop:"10px"},src:"https://img.icons8.com/fluent/96/000000/idea.png"}),r.a.createElement("h4",{style:{fontSize:"30px",color:"var(--red)"}},this.props.user.quizzCreated&&this.props.user.quizzCreated.length))))}}]),a}(n.Component),we=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;G().then((function(t){e.setState({name:t.data.name,email:t.data.email,password:t.data.password,image:t.data.image,quizzCreated:t.data.quizzCreated,quizzDone:t.data.quizzDone,teams:t.data.teams})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return console.log(this.state,"this is state"),r.a.createElement("div",{className:"center column"},r.a.createElement("section",{className:"column center section-dashboard"},r.a.createElement("div",{className:"row center dashboard-row"},r.a.createElement("div",{className:"dashboard-box"},r.a.createElement(ze,null)),r.a.createElement("div",{className:"shadow-box dashboard-box"},r.a.createElement(Ee,{user:this.state}))),r.a.createElement("div",{className:"row center dashboard-row"},r.a.createElement("div",{className:"shadow-box dashboard-box2"},r.a.createElement(ve,{user:this.state}))),r.a.createElement("div",{className:"row center dashboard-row"},r.a.createElement("div",{className:"shadow-box dashboard-box2",style:{marginBottom:"20px"}},r.a.createElement(ye,{user:this.state})))))}}]),a}(n.Component),qe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={refsArray:[]},e.questionChange=function(t){var a,n=t.target.name,r=t.target,i=Object(ne.a)(e.state.refsArray);if(console.log(t.target),t.target.ref){var s=t.target.ref;i.push(s)}e.setState((a={},Object(L.a)(a,n,r.value),Object(L.a)(a,"refsArray",i),a),(function(){console.log(e.state)}))},e.compilQuest=function(t){t.preventDefault();var a,n=document.querySelectorAll("input");console.log(n),a={index:e.props.questionNumber,question:e.state.question,propositions:[e.state.proposition1,e.state.proposition2,e.state.proposition3,e.state.proposition4],answer:e.state.answer,funFact:e.state.funFact},e.setState({newQuest:a},(function(){e.props.addCbk(e.state.newQuest),e.props.clearCbk(n)})),console.log(a)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"question-box center column",onChange:this.questionChange},r.a.createElement("label",{htmlFor:"question"},r.a.createElement("h2",null," Question ",this.props.questionNumber,"/10")),r.a.createElement("input",{name:"question",className:"question column",type:"text",defaultValue:"What is your question?",ref:function(t){return e.inputTitle=t}}),r.a.createElement("label",{htmlFor:"proposition",style:{paddingTop:"2em"}},r.a.createElement("h3",null,"Propositions")),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"proposition1"},"Proposition 1"),r.a.createElement("input",{type:"text",name:"proposition1",className:"proposition column q-input",defaultValue:"r\xe9ponse 1"}),r.a.createElement("div",{className:"right-answer row"},r.a.createElement("input",{type:"radio",name:"answer",id:"radio1",value:this.state.proposition1}),r.a.createElement("label",{htmlFor:"radio1",style:{fontStyle:"italic"}},"This is the right answer"))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"proposition 2"},"Proposition 2"),r.a.createElement("input",{type:"text",name:"proposition2",className:"proposition column q-input",defaultValue:"r\xe9ponse 2"}),r.a.createElement("div",{className:"right-answer row"},r.a.createElement("input",{type:"radio",name:"answer",id:"radio2",value:this.state.proposition2}),r.a.createElement("label",{htmlFor:"radio2",style:{fontStyle:"italic"}},"This is the right answer"))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"proposition 3"},"Proposition 3"),r.a.createElement("input",{type:"text",name:"proposition3",className:"proposition column q-input",defaultValue:"r\xe9ponse 3"}),r.a.createElement("div",{className:"right-answer row"},r.a.createElement("input",{type:"radio",name:"answer",id:"radio3",value:this.state.proposition3}),r.a.createElement("label",{htmlFor:"radio3",style:{fontStyle:"italic"}},"This is the right answer"))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"proposition4"},"Proposition 4 "),r.a.createElement("input",{type:"text",name:"proposition4",className:"proposition column q-input",defaultValue:"r\xe9ponse 4"}),r.a.createElement("div",{className:"right-answer row"},r.a.createElement("input",{type:"radio",name:"answer",id:"radio4",value:this.state.proposition4}),r.a.createElement("label",{htmlFor:"radio4",style:{fontStyle:"italic"}},"This is the right answer"))),r.a.createElement("label",{htmlFor:"funFact"},"FunFact"),r.a.createElement("input",{name:"funFact",type:"text",defaultValue:"lol",className:"q-input"}),r.a.createElement("button",{onClick:this.compilQuest,className:"btn validate center"},"Validate Question"))}}]),a}(n.Component),Ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={questionNb:1,quizzTotal:[],fields:{},errors:""},n.handleChange=function(e){var t,a=e.target.name;"title"!==a&&"thema"!==a&&"status"!==a||(t="select"===e.target.type?e.target.selected:e.target.value,n.setState(Object(L.a)({},a,t)),console.log(n.state))},n.handleImage=function(e){n.setState({image:e.target.files[0],tmpImage:URL.createObjectURL(e.target.files[0])})},n.addQuestion=function(e){var t=Object(ne.a)(n.state.quizzTotal);t.push(e),n.setState({questionNb:n.state.questionNb+1,quizzTotal:t})},n.clearInput=function(e){e.forEach((function(e){e.value=""}))},n.handleValidation=function(e){n.state.quizzTotal.length<10?n.setState({formIsValid:!1,errors:"Your quizz must have 10 questions to be valid"}):n.setState({formIsValid:!0})},n.handleSubmit=function(e){if(e.preventDefault(),console.log("submit:",n.state),n.state.quizzTotal.length<10)n.setState({errors:"Your quizz must have 10 questions to be valid"});else{var t=function(e){var t=new FormData;return function e(t,a,n){if(!a||"object"!==typeof a||a instanceof Date||a instanceof File){var r=null==a?"":a;t.append(n,r)}else Object.keys(a).forEach((function(r){e(t,a[r],n?"".concat(n,"[").concat(r,"]"):r)}))}(t,e),t}({title:n.state.title,thema:n.state.thema,status:n.state.status,image:n.state.image,quizzTotal:n.state.quizzTotal});j(t).then((function(e){console.log(e),n.props.history.push("/dashboard")})).catch((function(e){console.log(e)}))}},n.handleClick=function(){n.fileInput.current.click()},n.fileInput=r.a.createRef(),n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"global-quizz-form row center"},r.a.createElement("form",{className:"quizz-form column center space-around",onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"title",className:"quizz-label"},r.a.createElement("h2",null," Quizz Title")),r.a.createElement("input",{type:"text",name:"title",className:"title quizz-input",placeholder:"Short description of your quizz",maxLength:"120",defaultValue:"Super quizz name",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"thema",className:"quizz-label"},"Category"),r.a.createElement("select",{name:"thema",className:"quizz-select",onChange:this.handleChange},r.a.createElement("option",{value:"Select a Category"},"Select a Category"),r.a.createElement("option",{value:"Nature",defaultValue:!0},"Nature"),r.a.createElement("option",{value:"General Culture"},"General Culture"),r.a.createElement("option",{value:"Health and Beauty"},"Health and Beauty"),r.a.createElement("option",{value:"Celebrity"},"Celebrity"),r.a.createElement("option",{value:"Society"},"Society"),r.a.createElement("option",{value:"Miscellaneous"},"Miscellaneous")),r.a.createElement("label",{htmlFor:"status",className:"status"},"Status"),r.a.createElement("select",{name:"status",className:"quizz-status",onChange:this.handleChange},r.a.createElement("option",{value:"Select a Status"},"Select a Status"),r.a.createElement("option",{value:"Public",defaultValue:!0},"Public"),r.a.createElement("option",{value:"Private"},"Private")),r.a.createElement("div",{className:"img-download center column "},r.a.createElement("label",{htmlFor:"image"},"Customize your quizz picture"),r.a.createElement(de.a,{icon:"images",size:"4x",className:"icon",onClick:this.handleClick}),r.a.createElement("input",{type:"file",name:"image",id:"quizz-image",onChange:this.handleImage,ref:this.fileInput,style:{display:"none"}})),r.a.createElement("img",{src:this.state.tmpImage,alt:"Your chosen",style:{display:!this.state.tmpImage&&"none"},className:"quizz-image"}),r.a.createElement("div",{className:"form-validation"},r.a.createElement("button",{className:"btn"},"Submit")," ",r.a.createElement("br",null),r.a.createElement("span",{style:{color:"red"}},this.state.errors))),r.a.createElement("div",{id:"question-container",className:"question-box",style:{display:10===this.state.quizzTotal.length?"none":"flex"}},r.a.createElement(qe,{changeCbk:this.handleChange,questionNumber:this.state.questionNb,addCbk:this.addQuestion,clearCbk:this.clearInput})))}}]),a}(n.Component),xe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={score:0},e.quizzAnswer=function(t){e.props.answered||(e.props.quizz.answer===t&&e.setState({score:e.state.score+1},(function(){e.props.handleScore(e.state.score)})),e.props.handleAnswer(t))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;console.log(this.props.quizz);var t=this.props.quizz.propositions;return console.log(t),r.a.createElement("div",{className:"center column"},r.a.createElement("br",null),r.a.createElement("section",{className:"banner-question column center",style:{backgroundImage:"url(".concat(this.props.image.image,")")}},r.a.createElement("h3",{className:"column center question-h3"}," ",this.props.quizz.question)),r.a.createElement("br",null),r.a.createElement("div",{className:"question-div"},r.a.createElement("div",null,r.a.createElement("p",{onClick:function(){return e.quizzAnswer(t[0])},className:"proposition"},t[0]),r.a.createElement("p",{onClick:function(){return e.quizzAnswer(t[1])},className:"proposition"},t[1])),r.a.createElement("div",null,r.a.createElement("p",{onClick:function(){return e.quizzAnswer(t[2])},className:"proposition"},t[2]),r.a.createElement("p",{onClick:function(){return e.quizzAnswer(t[3])},className:"proposition"},t[3]))))}}]),a}(n.Component),ke=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{classname:"column center",style:{textAlign:"left"}},r.a.createElement("div",{className:"column center",style:{paddingTop:"20px"}},this.props.userAnswer===this.props.quizz.answer?r.a.createElement("h4",{style:{color:"green"}},"Good answer !"):r.a.createElement("h4",{style:{color:"red"}},"Wrong answer..."),r.a.createElement("p",null,r.a.createElement("b",null,"Answer")," : ",this.props.quizz.answer),r.a.createElement("br",null),r.a.createElement("p",{style:{width:"80%",textAlign:"center"}},this.props.quizz.funFact)))}}]),a}(n.Component),Ce=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"center column",style:{width:"100%"}},r.a.createElement("section",{className:"banner-question column center",style:{backgroundImage:"url(".concat(this.props.quizz.image,")"),width:"60%",height:"200px",backgroundPosition:"center",marginTop:"20px"}}),r.a.createElement("div",{className:"column center"},r.a.createElement("div",{className:"column endquizz"},r.a.createElement("h3",{style:{fontSize:"40px"}},"SCORE"),r.a.createElement("div",{className:"score-quizz"},r.a.createElement("p",{style:{marginTop:"1em",marginLeft:"1.3em",fontSize:"30px"}},this.props.score),r.a.createElement("img",{alt:"win",src:"https://img.icons8.com/fluent/96/000000/trophy.png"}))),r.a.createElement("a",{href:"/dashboard"},r.a.createElement("button",{style:{width:"150px"},className:"btn"},"See dashboard"))))}}]),a}(n.Component),Se=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={quizz:null,questionIndex:0,answered:!1,userAnswer:"",userScore:0},e.handleAnswer=function(t){e.setState({answered:!0,userAnswer:t})},e.handleScore=function(t){e.setState({userScore:t})},e.handleNextQuestion=function(){e.setState({questionIndex:e.state.questionIndex+1,answered:!1})},e.handleUserScore=function(){H({$push:{quizzDone:{quizzId:e.state.quizz._id,score:e.state.userScore}}}).then(console.log("score send")).catch((function(e){console.log(e)})),e.setState({questionIndex:e.state.questionIndex+1})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;S(t).then((function(t){e.setState({quizz:t})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.quizz?r.a.createElement("div",{className:"column center"},r.a.createElement("h2",{style:{textAlign:"center",textTransform:"uppercase",color:"grey"}},this.state.quizz.title),this.state.questionIndex<10?r.a.createElement("div",{className:"display-quizz center"},r.a.createElement("section",null,r.a.createElement(xe,{quizz:this.state.quizz.quizzTotal[this.state.questionIndex],image:this.state.quizz,handleAnswer:this.handleAnswer,handleScore:this.handleScore,answered:this.state.answered}),r.a.createElement("div",{className:"answer"},this.state.answered&&r.a.createElement(ke,{quizz:this.state.quizz.quizzTotal[this.state.questionIndex],userAnswer:this.state.userAnswer}))),r.a.createElement("div",{className:"center column",style:{marginTop:"20px"}},this.state.questionIndex<9?r.a.createElement("button",{onClick:this.handleNextQuestion,style:{width:"150px",marginBottom:"10px"},className:"btn"},"Next question"):r.a.createElement("button",{className:"btn",style:{width:"150px",marginBottom:"10px"},onClick:this.handleUserScore},"Submit"))):r.a.createElement(Ce,{score:this.state.userScore,quizz:this.state.quizz})):r.a.createElement("div",null,"Loading...")}}]),a}(n.Component),Oe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={userQuizzes:null,newTeamQuizzes:null},e.handleQuizzes=function(t){var a=[];a=e.state.newTeamQuizzes?Object(ne.a)(e.state.newTeamQuizzes):Object(ne.a)(e.props.quizzes),console.log("quizzes in handlequizzes",a);var n=t.target.value;if(t.target.checked){var r=e.state.userQuizzes.find((function(e){return e._id===n}));a.push(r)}else!t.target.checked&&a.includes(t.target.value)&&(a=a.filter((function(e){return e!==t.target.value})));e.setState({newTeamQuizzes:a},(function(){return console.log("new team quizzes:",e.state.newTeamQuizzes)}))},e.checkOptionQuizzes=function(t){return!!!!Object(ne.a)(e.props.quizzes).find((function(e){return e._id===t._id}))},e.handleSubmit=function(){e.props.addQuizz(e.state.newTeamQuizzes),e.props.toggleAddQuizz()},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;G().then((function(t){console.log("current user data",t),e.setState({userQuizzes:Object(ne.a)(t.data.quizzCreated)})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{id:"team_quizzes"},r.a.createElement("div",{className:"row space-between margin_bottom"},r.a.createElement("div",null,r.a.createElement("h3",null,"Current quizzes (",this.props.quizzes.length,")")),r.a.createElement("div",{className:"column"})),r.a.createElement("ul",null,this.props.quizzes.map((function(e){return r.a.createElement("div",{className:"row",key:e._id},"[",e.thema,"] - ",e.title)})))),r.a.createElement("div",null,r.a.createElement("h3",null,"Add quizzes of your creation"),this.state.userQuizzes&&this.state.userQuizzes.map((function(t){return r.a.createElement("label",{htmlFor:"".concat(t._id),key:t._id},r.a.createElement("div",{className:"row"},r.a.createElement("input",{type:"checkbox",id:"".concat(t._id),name:"".concat(t.title),value:t._id,onChange:e.handleQuizzes,disabled:e.checkOptionQuizzes(t)}),"[",t.thema,"] ",t.title))})),r.a.createElement("button",{className:"btn add",onClick:this.handleSubmit},"add to the team quizzes")))))}}]),a}(n.Component),je=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={addQuizz:null},e.handleAddQuizz=function(t){e.setState({addQuizz:!0})},e.handleBack=function(t){e.setState({addQuizz:!e.state.addQuizz})},e}return Object(c.a)(a,[{key:"render",value:function(){return console.log("in team quizzes, context:",this.props.context),null===this.props.context.user?null:(console.log("in team quizzes, props:",this.props),this.props.quizzes?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h3",null,"Quizz"),r.a.createElement("div",null,r.a.createElement("button",{className:"btn",onClick:this.props.create}," Create "),r.a.createElement("button",{className:"btn",onClick:this.handleAddQuizz}," Add "),this.context.user._id===this.props.owner._id&&r.a.createElement("button",{className:"btn",onClick:this.props.edit}," Manage "))),!this.state.addQuizz&&r.a.createElement("div",{id:"team_quizz",className:"row wrap"},this.props.quizzes.map((function(e){return r.a.createElement(l.b,{to:"/quizz/".concat(e._id)},r.a.createElement(fe,{key:e._id,quizz:e}))}))),this.state.addQuizz&&r.a.createElement("div",{id:"team_quizz"},r.a.createElement(Oe,{userQuizzes:this.props.userQuizzes,quizzes:this.props.quizzes,addQuizz:this.props.add,toggleAddQuizz:this.handleBack}))):r.a.createElement("div",null,r.a.createElement("h3",null,"Quizz ")," Loading..."))}}]),a}(n.Component);je.contextType=v;var Ie=q(je),Qe=q((function(e){return console.log("in team members, context:",e.context),e.members?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"dash_team_members"},r.a.createElement("div",{className:"row space-between"},r.a.createElement("h3",null,"Members"),e.context.user._id===e.owner._id&&r.a.createElement("div",{className:"column"},r.a.createElement("button",{className:"btn",onClick:e.edit}," Manage "))),r.a.createElement("ul",null,e.members.map((function(t){return r.a.createElement("div",{className:"row",key:t._id},r.a.createElement("img",{src:t.image,alt:t.name}),t.name," ",e.owner.name===t.name?"(owner)":"")}))))):r.a.createElement("div",null," ",r.a.createElement("h3",null,"Members "),"Loading...")})),_e=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleEdit=function(t){e.state.teamId&&e.props.history.push("/team/edit/".concat(e.state.teamId))},e.handleCreateQuizz=function(t){e.props.history.push("/quizz/new")},e.handleAddQuizz=function(t){var a={teamQuizz:t};ce(e.state.teamId,a).then((function(t){e.setState({teamQuizz:t.teamQuizz})})).catch((function(e){return console.error("could not update state -",e)}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;le(t).then((function(t){e.setState({teamId:t._id,name:t.name,image:t.image,owner:t.owner,description:t.description,members:t.members,teamQuizz:t.teamQuizz})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this;return console.log("context",this.context),null===this.props.context.user?null:(console.log(this.props.context.user),this.props.context.user.teams.find((function(t){return t===e.props.match.params.id}))||this.props.history.push("/dashboard"),this.state?r.a.createElement("div",{id:"team_dashboard",className:"center column"},r.a.createElement("div",{className:"column center section-dashboard"},r.a.createElement("div",{id:"first_row",className:"row space-around dashboard-row"},r.a.createElement("div",{id:"team_card",className:"row space-around shadow-box dashboard-box"},r.a.createElement("img",{src:this.state.image,alt:"team pic",className:"team_image"}),r.a.createElement("div",{id:"team_info",className:"row wrap"},r.a.createElement("div",{id:"team_head",className:"row space-around"},r.a.createElement("h2",null,this.state.name," "),this.context.user._id===this.state.owner._id&&r.a.createElement("button",{onClick:this.handleEdit,className:"btn half_width"},"Edit")),r.a.createElement("div",{id:"team_desc"}," ",this.state.description," "))),r.a.createElement(Qe,Object(L.a)({className:"shadow-box dashboard-box",owner:this.state.owner,members:this.state.members,edit:this.handleEdit},"owner",this.state.owner))),r.a.createElement("div",{id:"second_row",className:"dashboard-box2 "},r.a.createElement(Ie,{className:"row wrap",teamId:this.state.teamId,owner:this.state.owner,userQuizzes:this.props.context.user.quizzCreated,quizzes:this.state.teamQuizz,edit:this.handleEdit,create:this.handleCreateQuizz,add:this.handleAddQuizz})))):r.a.createElement("div",null," Loading ... "))}}]),a}(n.Component);_e.contextType=v;var Fe=q(_e),Te=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={quizz:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;C().then((function(t){e.setState({quizz:t},(function(){return console.log(e.state.quizz)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){if(0===this.state.quizz.length)return r.a.createElement("div",null,"Oooops..");var e=this.state.quizz[Math.floor(Math.random()*this.state.quizz.length)];return r.a.createElement("div",{className:"column center",style:{textAlign:"center"}},r.a.createElement("h1",{className:"title",style:{color:"black"}},"404"),r.a.createElement("br",null),r.a.createElement("p",{style:{fontSize:"19px"}},"Go back ",r.a.createElement("button",{className:"btn"},"Home")," to find your way...",r.a.createElement("br",null),r.a.createElement("br",null),"Or answer a random quizz !"),r.a.createElement("br",null),r.a.createElement("h2",{className:"title"},"Your lost soul quizz :"),r.a.createElement(l.b,{to:"/quizz/".concat(e._id)},r.a.createElement("div",{className:"quizz-sticker row center",style:{backgroundImage:"url(".concat(e.image,")")}},r.a.createElement("h3",{className:"row "},e.title))))}}]),a}(n.Component),Ae=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return console.log(this.props.question),r.a.createElement("div",{className:"",style:{margin:"20px",width:"50%"}},r.a.createElement("h3",null,"Question ",this.props.question.index,"/10 : ",this.props.question.question),r.a.createElement("ol",null,r.a.createElement("li",null,this.props.question.propositions[0]),r.a.createElement("li",null,this.props.question.propositions[1]),r.a.createElement("li",null,this.props.question.propositions[2]),r.a.createElement("li",null,this.props.question.propositions[3])),r.a.createElement("p",null," ",r.a.createElement("span",{style:{fontFamily:"'Rubik', sans-serif",marginTop:"5px"}},"Right Answer")," : ",this.props.question.answer),r.a.createElement("p",null,r.a.createElement("span",{style:{fontFamily:"'Rubik', sans-serif"}},"FunFact")," : ",this.props.question.funFact),r.a.createElement(l.b,{to:"/question/".concat(this.props.question._id),question:this.props.question},r.a.createElement("button",{className:"btn",style:{margin:"10px",width:"150px",backgroundColor:"var(--grey)",color:"black"}}," Edit Question")))}}]),a}(n.Component),Me=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={image:""},e.handleChange=function(t){var a,n=t.target.name;a="select"===t.target.type?t.target.selected:t.target.value,e.setState(Object(L.a)({},n,a)),console.log(e.state)},e.handleImage=function(t){e.setState({image:t.target.files[0],tmpImage:URL.createObjectURL(t.target.files[0])},(function(){console.log(e.state.image)}))},e.handleSubmit=function(t){t.preventDefault(),console.log("submit:",e.state);var a=function(e){var t=new FormData;return function e(t,a,n){if(!a||"object"!==typeof a||a instanceof Date||a instanceof File){var r=null==a?"":a;t.append(n,r)}else Object.keys(a).forEach((function(r){e(t,a[r],n?"".concat(n,"[").concat(r,"]"):r)}))}(t,e),t}({title:e.state.title,thema:e.state.thema,status:e.state.status,image:e.state.image});O(e.props.match.params.id,a).then((function(t){console.log(t),e.props.history.push("/dashboard")})).catch((function(e){console.log(e)}))},e.handleDelete=function(t){I(e.props.match.params.id).then((function(t){console.log(t),e.props.history.push("/dashboard")})).catch((function(e){console.log(e)}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;console.log(t),S(t).then((function(t){console.log(t.quizzTotal),e.setState({title:t.title,thema:t.thema,status:t.status,image:t.image,quizzTotal:t.quizzTotal},(function(){console.log(e.state.quizzTotal)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return null===this.state?r.a.createElement("div",null,"...Loading"):r.a.createElement("div",{className:"column center"},r.a.createElement("h1",{className:"title"},"Your quizz infos"),r.a.createElement("section",{className:"column center"},r.a.createElement("section",{className:"column center",style:{marginTop:"40px",width:"100%"}},r.a.createElement("form",{className:"column center",style:{backgroundColor:"var(--grey)",width:"40%",borderRadius:"20px"},onSubmit:this.handleSubmit},r.a.createElement("label",Object(L.a)({style:{margin:"10px"},htmlFor:"title",className:"quizz-label"},"style",{margin:"10px"}),"Title :"),r.a.createElement("input",{type:"text",name:"title",className:"title sign-input",placeholder:"Short description of your quizz",maxLength:"120",defaultValue:this.state.title,onChange:this.handleChange,style:{margin:"0px",border:"1px solid grey",textAlign:"left",width:"70%",backgroundColor:"white"}}),r.a.createElement("label",Object(L.a)({style:{margin:"10px"},htmlFor:"thema",className:"quizz-label"},"style",{margin:"10px"}),"Topic :"),r.a.createElement("select",{name:"thema",className:"quizz-select",onChange:this.handleChange,value:this.state.thema,style:{width:"30%"}},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"Nature"},"Nature"),r.a.createElement("option",{value:"General"},"General"),r.a.createElement("option",{value:"Health"},"Health"),r.a.createElement("option",{value:"Celebrity"},"Celebrity"),r.a.createElement("option",{value:"Society"},"Society"),r.a.createElement("option",{value:"Miscellaneous"},"Miscellaneous")),r.a.createElement("label",Object(L.a)({style:{margin:"10px"},htmlFor:"status",className:"status"},"style",{margin:"10px"}),"Status :"),r.a.createElement("select",{name:"status",className:"quizz-status",onChange:this.handleChange,value:this.state.status,style:{width:"30%"}},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"Public",defaultValue:!0},"Public"),r.a.createElement("option",{value:"Private"},"Private")),r.a.createElement("label",Object(L.a)({style:{margin:"10px"},htmlFor:"image"},"style",{margin:"10px"}),"Image :"),r.a.createElement("input",{type:"file",name:"image",id:"quizz-image-label",onChange:this.handleImage}),r.a.createElement("img",{className:"quizz-image",src:this.state.tmpImage?this.state.tmpImage:this.state.image,alt:"Your chosen",style:{margin:"20px"}}),r.a.createElement("div",{className:"form-validation"},r.a.createElement("button",{style:{margin:"10px"},className:"btn"},"Edit")," ",r.a.createElement("button",{className:"quizz-delete btn",style:{width:"150px",margin:"10px"},onClick:this.handleDelete},"Delete Quizz"),r.a.createElement("br",null),r.a.createElement("span",{style:{color:"red"}},this.state.errors)))),r.a.createElement("section",{className:"row wrap center",style:{margin:"20px"}},this.state.quizzTotal&&this.state.quizzTotal.map((function(e){return r.a.createElement(Ae,{question:e,key:e._id})})))))}}]),a}(n.Component),De=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={_idParentQuizz:"",_idIndex:""},e.handleChange=function(t){var a=t.target.name,n=t.target;e.setState(Object(L.a)({},a,n.value))},e.handleSubmit=function(t){var a;t.preventDefault(),a={_idParentQuizz:e.state._idParentQuizz,_idIndex:e.state._idIndex,index:e.state.index,question:e.state.question,proposition1:e.state.proposition1,proposition2:e.state.proposition2,proposition3:e.state.proposition3,proposition4:e.state.proposition4,answer:e.state.answer,funFact:e.state.funFact},console.log(a);var n=function(e){var t=new FormData;return function e(t,a,n){if(!a||"object"!==typeof a||a instanceof Date||a instanceof File){var r=null==a?"":a;t.append(n,r)}else Object.keys(a).forEach((function(r){e(t,a[r],n?"".concat(n,"[").concat(r,"]"):r)}))}(t,e),t}(a);_(e.props.match.params.id,n).then((function(t){console.log("ok updated"),e.props.history.push("/quizz/edit/".concat(e.state._idParentQuizz))})).catch((function(e){console.log(e)}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;console.log(t),Q(t).then((function(a){console.log("res[0]:",a[0]);var n=a[0].quizzTotal;console.log("questionsRecup",n);var r=[];n.forEach((function(e){r.push(e._id)}));var i=n.filter((function(e){return e._id===t}));console.log("questToUpdate:",i[0]),console.log("arrayIndex",r.indexOf(i[0]._id)),e.setState({_idParentQuizz:a[0]._id,_idIndex:r.indexOf(i[0]._id),index:i[0].index,question:i[0].question,proposition1:i[0].propositions[0],proposition2:i[0].propositions[1],proposition3:i[0].propositions[2],proposition4:i[0].propositions[3],answer:i[0].answer,funFact:i[0].funFact},(function(){console.log(e.state)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"question-box",onChange:this.handleChange},r.a.createElement("label",{htmlFor:"question"},"Question ",this.state.index,"/10"),r.a.createElement("input",{name:"question",className:"question column",type:"text",defaultValue:this.state.question}),r.a.createElement("label",{htmlFor:"proposition"},"Propositions"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"proposition1"},r.a.createElement("h2",null,"Proposition 1"),r.a.createElement("input",{type:"text",name:"proposition1",className:"proposition column q-input",defaultValue:this.state.proposition1}),r.a.createElement("input",{type:"radio",name:"answer",id:"proposition1",value:this.state.proposition1}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"proposition2"},r.a.createElement("h2",null,"Proposition 2"),r.a.createElement("input",{type:"text",name:"proposition2",className:"proposition column q-input",defaultValue:this.state.proposition2}),r.a.createElement("input",{type:"radio",name:"answer",id:"proposition2",value:this.state.proposition2}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"proposition3"},r.a.createElement("h2",null,"Proposition 3"),r.a.createElement("input",{type:"text",name:"proposition3",className:"proposition column q-input",defaultValue:this.state.proposition3}),r.a.createElement("input",{type:"radio",name:"answer",id:"proposition3",value:this.state.proposition3}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"proposition4"},r.a.createElement("h2",null,"Proposition 4"),r.a.createElement("input",{type:"text",name:"proposition4",className:"proposition column q-input",defaultValue:this.state.proposition4}),r.a.createElement("input",{type:"radio",name:"answer",id:"proposition4",value:this.state.proposition4}))),r.a.createElement("label",{htmlFor:"funFact"},"FunFact"),r.a.createElement("input",{name:"funFact",type:"text",defaultValue:this.state.funFact}),r.a.createElement("button",{onClick:this.handleSubmit},"Validate Question")))}}]),a}(n.Component),Le=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={quizz:[],category:e.props.match.params.category},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;C().then((function(t){e.setState({quizz:t.filter((function(t){return t.thema===e.state.category}))})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state?r.a.createElement("div",{className:"center column"},r.a.createElement("h2",{style:{color:"grey",textTransform:"uppercase",marginBottom:"20px",fontSize:"30px"}},"All ",this.state.category," Quizz "),r.a.createElement("div",{className:"quizzCategorie"},this.state.quizz.map((function(e){return r.a.createElement(l.b,{to:"/quizz/".concat(e._id)},r.a.createElement(ee,{key:e._id,quiz:e}))})))):r.a.createElement("div",null,"Loading")}}]),a}(n.Component),Ue=a(17),Pe=a(38);var Re=function(){return Ue.b.add(Pe.a),r.a.createElement("div",{className:"App"},r.a.createElement(N,null),r.a.createElement(w.d,null,r.a.createElement(w.b,{exact:!0,path:"/",component:D}),r.a.createElement(w.b,{exact:!0,path:"/signin",component:R}),r.a.createElement(w.b,{exact:!0,path:"/:mode(signup|profile/edit)",component:J}),r.a.createElement($,{exact:!0,path:"/team/:mode(create|edit)/:id?",component:ge}),r.a.createElement($,{exact:!0,path:"/profile",component:X}),r.a.createElement(w.b,{exact:!0,path:"/quizz",component:ae}),r.a.createElement($,{exact:!0,path:"/quizz/new",component:Ne}),r.a.createElement(w.b,{exact:!0,path:"/quizz/:id",component:Se}),r.a.createElement($,{exact:!0,path:"/quizz/edit/:id",component:Me}),r.a.createElement($,{exact:!0,path:"/question/:id",component:De}),r.a.createElement($,{path:"/dashboard",component:we}),r.a.createElement($,{path:"/teams/:id",component:Fe}),r.a.createElement($,{exact:!0,path:"/quizz/categories/:category",component:Le}),r.a.createElement(w.b,{path:"*",component:Te})))};a(68);s.a.render(r.a.createElement(l.a,null,r.a.createElement(y,null,r.a.createElement(Re,null))),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.4da7577f.chunk.js.map